<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ascotraceR • ascotraceR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="ascotraceR">
<meta property="og:description" content="ascotraceR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ascotraceR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/ascotraceR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/IhsanKhaliq/ascotraceR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="ascotraceR_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>ascotraceR</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/IhsanKhaliq/ascotraceR/blob/HEAD/vignettes/ascotraceR.Rmd" class="external-link"><code>vignettes/ascotraceR.Rmd</code></a></small>
      <div class="hidden name"><code>ascotraceR.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction-to-ascotracer">Introduction to <em>ascotraceR</em><a class="anchor" aria-label="anchor" href="#introduction-to-ascotracer"></a>
</h2>
<p><em>ascotraceR</em> is an R package of the ‘ascotraceR’ model developed to simulate the spread of Ascochyta blight in a chickpea field over a growing season. Parameters and variables used in the model were mostly derived from the literature and were subjected to validation in the field. The model uses daily weather data to simulate disease spread and a set of weather data is included with the package for demonstration purposes.</p>
<div class="section level3">
<h3 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h3>
<p>Load the libraries.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/IhsanKhaliq/ascotraceR" class="external-link">"ascotraceR"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://lubridate.tidyverse.org" class="external-link">"lubridate"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org" class="external-link">"ggplot2"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://r-datatable.com" class="external-link">"data.table"</a></span><span class="op">)</span></code></pre></div>
<p>Import the weather data</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># weather data</span>
<span class="va">Billa_Billa</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">fread</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>
    <span class="st">"extdata"</span>,
    <span class="st">"2020_Billa_Billa_weather_data_ozforecast.csv"</span>,
    package <span class="op">=</span> <span class="st">"ascotraceR"</span>
  <span class="op">)</span>
<span class="op">)</span>

<span class="co"># format time column</span>
<span class="va">Billa_Billa</span><span class="op">[</span>, <span class="va">local_time</span> <span class="op">:=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd_hms.html" class="external-link">dmy_hm</a></span><span class="op">(</span><span class="va">local_time</span><span class="op">)</span><span class="op">]</span>

<span class="co"># specify the station coordinates of the Billa Billa weather station</span>
<span class="va">Billa_Billa</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lat"</span>, <span class="st">"lon"</span><span class="op">)</span> <span class="op">:=</span> <span class="fu">.</span><span class="op">(</span><span class="op">-</span><span class="fl">28.1011505</span>, <span class="fl">150.3307084</span><span class="op">)</span><span class="op">]</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">Billa_Billa</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##    day          local_time assessment_number mean_daily_temp wind_ km_h   ws</span>
<span class="co">## 1:   1 2020-06-04 00:00:00                NA             4.1        0.9 0.25</span>
<span class="co">## 2:   1 2020-06-04 00:15:00                NA             3.9        0.6 0.17</span>
<span class="co">## 3:   1 2020-06-04 00:30:00                NA             3.9        2.0 0.56</span>
<span class="co">## 4:   1 2020-06-04 00:45:00                NA             4.3        1.2 0.33</span>
<span class="co">## 5:   1 2020-06-04 01:00:00                NA             3.7        2.4 0.67</span>
<span class="co">## 6:   1 2020-06-04 01:15:00                NA             3.5        1.3 0.36</span>
<span class="co">##    ws_sd  wd wd_sd cummulative_rain_since_9am rain_mm wet_hours    location</span>
<span class="co">## 1:    NA 215    NA                          0       0        NA Billa_Billa</span>
<span class="co">## 2:    NA 215    NA                          0       0        NA Billa_Billa</span>
<span class="co">## 3:    NA 215    NA                          0       0        NA Billa_Billa</span>
<span class="co">## 4:    NA 215    NA                          0       0        NA Billa_Billa</span>
<span class="co">## 5:    NA 215    NA                          0       0        NA Billa_Billa</span>
<span class="co">## 6:    NA 215    NA                          0       0        NA Billa_Billa</span>
<span class="co">##          lat      lon</span>
<span class="co">## 1: -28.10115 150.3307</span>
<span class="co">## 2: -28.10115 150.3307</span>
<span class="co">## 3: -28.10115 150.3307</span>
<span class="co">## 4: -28.10115 150.3307</span>
<span class="co">## 5: -28.10115 150.3307</span>
<span class="co">## 6: -28.10115 150.3307</span></code></pre>
</div>
<div class="section level3">
<h3 id="wrangle-weather-data">Wrangle weather data<a class="anchor" aria-label="anchor" href="#wrangle-weather-data"></a>
</h3>
<p>A function, <code><a href="../reference/format_weather.html">format_weather()</a></code>, is provided to convert raw weather data into the format appropriate for the model. It is mandatory to format weather data before running the model. Time zone can also be set manually using <code>time_zone</code> argument. If latitude and longitude are not supplied in the raw weather data, a a separate CSV file listing latitude and longitude can be supplied to meet this requirement (see <code><a href="../reference/format_weather.html">?format_weather</a></code> for more details).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Billa_Billa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/format_weather.html">format_weather</a></span><span class="op">(</span>
  x <span class="op">=</span> <span class="va">Billa_Billa</span>,
  POSIXct_time <span class="op">=</span> <span class="st">"local_time"</span>,
  temp <span class="op">=</span> <span class="st">"mean_daily_temp"</span>,
  ws <span class="op">=</span> <span class="st">"ws"</span>,
  wd_sd <span class="op">=</span> <span class="st">"wd_sd"</span>,
  rain <span class="op">=</span> <span class="st">"rain_mm"</span>,
  wd <span class="op">=</span> <span class="st">"wd"</span>,
  station <span class="op">=</span> <span class="st">"location"</span>,
  time_zone <span class="op">=</span> <span class="st">"Australia/Brisbane"</span>,
  lon <span class="op">=</span> <span class="st">"lon"</span>,
  lat <span class="op">=</span> <span class="st">"lat"</span>
<span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="simulate-ascochyta-blight-spread">Simulate Ascochyta blight spread<a class="anchor" aria-label="anchor" href="#simulate-ascochyta-blight-spread"></a>
</h3>
<p>A function, <code><a href="../reference/trace_asco.html">trace_asco()</a></code>, is provided to simulate the spread of Ascochyta blight in a chickpea field over a growing season. The inputs needed to run the function include weather data, paddock length and width, sowing and harvest dates, chickpea growing points replication rate, primary infection intensity, latent period, number of conidia produced per lesion and the location of primary infection foci (centre or random). The model output is a nested list with items for each day of the model run. See the help file for <code><a href="../reference/trace_asco.html">trace_asco()</a></code> for more information.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Predict Ascochyta blight spread for the year 2020 at Billa Billa</span>
<span class="va">traced</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/trace_asco.html">trace_asco</a></span><span class="op">(</span>
  weather <span class="op">=</span> <span class="va">Billa_Billa</span>,
  paddock_length <span class="op">=</span> <span class="fl">20</span>,
  paddock_width <span class="op">=</span> <span class="fl">20</span>,
  initial_infection <span class="op">=</span> <span class="st">"2020-07-17"</span>,
  sowing_date <span class="op">=</span> <span class="st">"2020-06-04"</span>,
  harvest_date <span class="op">=</span> <span class="st">"2020-10-27"</span>,
  time_zone <span class="op">=</span> <span class="st">"Australia/Brisbane"</span>,
  seeding_rate <span class="op">=</span> <span class="fl">40</span>,
  gp_rr <span class="op">=</span> <span class="fl">0.0065</span>,
  spores_per_gp_per_wet_hour <span class="op">=</span> <span class="fl">0.6</span>,
  latent_period_cdd <span class="op">=</span> <span class="fl">150</span>,
  primary_inoculum_intensity <span class="op">=</span> <span class="fl">100</span>,
  primary_infection_foci <span class="op">=</span> <span class="st">"centre"</span>
<span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="tidy-up-or-summarise-the-model-output">Tidy up or summarise the model output<a class="anchor" aria-label="anchor" href="#tidy-up-or-summarise-the-model-output"></a>
</h3>
<p>Functions <code><a href="../reference/tidy_trace.html">tidy_trace()</a></code> and <code><a href="../reference/summarise_trace.html">summarise_trace()</a></code> have been provided to tidy up and summarise the model output</p>
</div>
</div>
<div class="section level2">
<h2 id="tidy-up-the-model-output">Tidy up the model output<a class="anchor" aria-label="anchor" href="#tidy-up-the-model-output"></a>
</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tidied</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tidy_trace.html">tidy_trace</a></span><span class="op">(</span><span class="va">traced</span><span class="op">)</span>
<span class="va">tidied</span></code></pre></div>
<pre><code><span class="co">##        i_day     i_date day  x  y new_gp susceptible_gp exposed_gp</span>
<span class="co">##     1:     1 2020-06-04 156  1  1     40             40          0</span>
<span class="co">##     2:     1 2020-06-04 156  1  2     40             40          0</span>
<span class="co">##     3:     1 2020-06-04 156  1  3     40             40          0</span>
<span class="co">##     4:     1 2020-06-04 156  1  4     40             40          0</span>
<span class="co">##     5:     1 2020-06-04 156  1  5     40             40          0</span>
<span class="co">##    ---                                                            </span>
<span class="co">## 58796:   147 2020-10-28 302 20 16      0           4980          0</span>
<span class="co">## 58797:   147 2020-10-28 302 20 17      0           4980          0</span>
<span class="co">## 58798:   147 2020-10-28 302 20 18      0           4980          0</span>
<span class="co">## 58799:   147 2020-10-28 302 20 19      0           4980          0</span>
<span class="co">## 58800:   147 2020-10-28 302 20 20      0           4980          0</span>
<span class="co">##        infectious_gp      cdd cwh cr gp_standard</span>
<span class="co">##     1:             0    0.000   0  0          40</span>
<span class="co">##     2:             0    0.000   0  0          40</span>
<span class="co">##     3:             0    0.000   0  0          40</span>
<span class="co">##     4:             0    0.000   0  0          40</span>
<span class="co">##     5:             0    0.000   0  0          40</span>
<span class="co">##    ---                                          </span>
<span class="co">## 58796:             0 2215.577  74 97        4980</span>
<span class="co">## 58797:             0 2215.577  74 97        4980</span>
<span class="co">## 58798:             0 2215.577  74 97        4980</span>
<span class="co">## 58799:             0 2215.577  74 97        4980</span>
<span class="co">## 58800:             0 2215.577  74 97        4980</span></code></pre>
<div class="section level3">
<h3 id="summarise-the-model-output">Summarise the model output<a class="anchor" aria-label="anchor" href="#summarise-the-model-output"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">summarised</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/summarise_trace.html">summarise_trace</a></span><span class="op">(</span><span class="va">traced</span><span class="op">)</span>
<span class="va">summarised</span></code></pre></div>
<pre><code><span class="co">##      i_day new_gp susceptible_gp exposed_gp infectious_gp     i_date day</span>
<span class="co">##   1:     1  16000          16000          0             0 2020-06-04 156</span>
<span class="co">##   2:     2   1200          17200          0             0 2020-06-05 157</span>
<span class="co">##   3:     3   1600          18800          0             0 2020-06-06 158</span>
<span class="co">##   4:     4   1600          20400          0             0 2020-06-07 159</span>
<span class="co">##   5:     5   1600          22000          0             0 2020-06-08 160</span>
<span class="co">##  ---                                                                    </span>
<span class="co">## 143:   143      0        1991998          0           615 2020-10-24 298</span>
<span class="co">## 144:   144      0        1991998          0           615 2020-10-25 299</span>
<span class="co">## 145:   145      0        1991998          0           615 2020-10-26 300</span>
<span class="co">## 146:   146      1        1991999          0           615 2020-10-27 301</span>
<span class="co">## 147:   147      0        1991999          2           615 2020-10-28 302</span>
<span class="co">##             cdd cwh   cr gp_standard   AUDPC</span>
<span class="co">##   1:    0.00000   0  0.0          40 42367.5</span>
<span class="co">##   2:   10.74583   0  0.0          43 42367.5</span>
<span class="co">##   3:   22.84583   0  0.0          47 42367.5</span>
<span class="co">##   4:   35.41042   0  0.0          51 42367.5</span>
<span class="co">##   5:   49.38958   1  0.6          55 42367.5</span>
<span class="co">##  ---                                        </span>
<span class="co">## 143: 2133.81645  65 76.2        4980 42367.5</span>
<span class="co">## 144: 2154.64770  73 94.4        4980 42367.5</span>
<span class="co">## 145: 2176.49562  73 94.4        4980 42367.5</span>
<span class="co">## 146: 2195.63104  73 94.4        4980 42367.5</span>
<span class="co">## 147: 2215.57687  74 97.0        4980 42367.5</span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="plot-using-ggplot2">Plot using <em>ggplot2</em><a class="anchor" aria-label="anchor" href="#plot-using-ggplot2"></a>
</h2>
<p>Plot the number of infectious growing points on day 132.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/subset.data.table.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">tidied</span>, <span class="va">i_day</span> <span class="op">==</span> <span class="fl">132</span><span class="op">)</span>,
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span>, fill <span class="op">=</span> <span class="va">infectious_gp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html" class="external-link">geom_tile</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="ascotraceR_files/figure-html/plot-1.png" width="672"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Ihsanul Khaliq, Paul Melloy, Adam H. Sparks, Grains Research and Development Corporation (GRDC) Project USQ1903-003RTX.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
